## url到浏览器显示流程
用户输入url -> 浏览器进行dns解析 -> 建立tcp连接 -> 发送http请求 -> 接收服务端请求并渲染页面 -> 断开连接
## 输入url
输入域名或ip，若浏览器有缓存过相似的域名或ip，浏览器则会推荐给用户选择
## DNS解析
域名其实就是ip的映射。
1、浏览器首先会在本地的hosts文件查找域名所对应的ip\
2、若hosts文件没有找到对应ip，则向本地DNS服务器发送请求(一般是接入网络的供应商，移动电信等)\
3、本地DNS服务器会在其缓存中查找域名对应的ip，若没有，本地DNS服务器会向DNS根服务器发送请求\
4、DNS根服务器并不会直接返回域名对应的ip，而是会返回顶级域(比如.com, .cn等)服务器的地址，让本地的DNS去顶级域服务器请求\
5、顶级域服务器也不会直接返回域名对应的ip，而是会返回解析该域名的服务器地址，让本地DNS去该服务器地址请求
6、本地DNS向域名服务器请求到对应的ip地址，并保存在缓存中，下次用户访问时，便可以直接返回
## 建立tcp连接
有了域名对应的ip后，浏览器则向服务器tcp连接请求，浏览器通过tcp的三次握手和服务端建立tcp连接。\
**三次握手**
- 第一次握手，客户端会发送一个SYN包和一个seq初始序列号x，发送完成后，客户端会进入SYN_SEND状态
- 第二次握手，服务端会发送一个ACK=x+1（确认包，就是客户端的seq+1），一个SYN包，一个seq=y, 服务端会进入SYN_REVD状态。第二次握手
其实验证了客户端的发送能力，服务端的接收和发送能力
- 第三次握手，客户端再次发送ACK=y+1（服务端的seq+1），客户端进入ESTABLISHED状态，准备发送数据。服务端收到ACK包后，进入ESTABLISHED状态，准备接受数据
三次握手结束


